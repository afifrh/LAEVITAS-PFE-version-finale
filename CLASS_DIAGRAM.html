<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagramme de Classes - Laevitas Trading Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .description {
            background: #f8fafc;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #2563eb;
        }

        .description h2 {
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .description p {
            color: #475569;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .diagram-container {
            text-align: center;
            margin: 30px 0;
            background: #ffffff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            overflow-x: auto;
        }

        .diagram-container svg {
            max-width: 100%;
            height: auto;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
        }

        .architecture-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .info-card {
            background: #f1f5f9;
            padding: 25px;
            border-radius: 10px;
            border-left: 4px solid #3b82f6;
        }

        .info-card h3 {
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }

        .info-card h3::before {
            content: "üì¶";
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .info-card ul {
            list-style: none;
            padding: 0;
        }

        .info-card li {
            color: #475569;
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .info-card li::before {
            content: "‚Ä¢";
            color: #3b82f6;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .legend {
            background: #fefefe;
            padding: 25px;
            border-radius: 10px;
            margin-top: 30px;
            border: 1px solid #e2e8f0;
        }

        .legend h3 {
            color: #1e293b;
            margin-bottom: 20px;
            font-size: 1.4rem;
            text-align: center;
        }

        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #f8fafc;
            border-radius: 6px;
        }

        .legend-color {
            width: 20px;
            height: 15px;
            border-radius: 3px;
            margin-right: 12px;
            border: 2px solid;
        }

        .legend-color.model { background: #d1fae5; border-color: #10b981; }
        .legend-color.service { background: #dbeafe; border-color: #3b82f6; }
        .legend-color.component { background: #fef3c7; border-color: #f59e0b; }
        .legend-color.context { background: #ede9fe; border-color: #8b5cf6; }
        .legend-color.hook { background: #fce7f3; border-color: #ec4899; }

        .controls {
            text-align: center;
            margin: 20px 0;
        }

        .btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            margin: 0 10px;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #2563eb;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .architecture-info {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèóÔ∏è Diagramme de Classes</h1>
            <p>Architecture compl√®te de la plateforme Laevitas Trading</p>
        </div>

        <div class="content">
            <div class="description">
                <h2>üìã Description du Projet</h2>
                <p>
                    <strong>Laevitas Trading Platform</strong> est une plateforme de trading compl√®te d√©velopp√©e avec l'architecture MERN 
                    (MongoDB, Express.js, React, Node.js). Elle permet aux utilisateurs de trader des cryptomonnaies, 
                    g√©rer leurs portefeuilles et suivre les march√©s en temps r√©el.
                </p>
                <p>
                    Ce diagramme de classes pr√©sente l'architecture compl√®te du syst√®me, incluant les mod√®les de donn√©es, 
                    les services backend, les composants frontend et leurs relations.
                </p>
            </div>

            <div class="controls">
                <button class="btn" onclick="zoomIn()">üîç Zoom +</button>
                <button class="btn" onclick="zoomOut()">üîç Zoom -</button>
                <button class="btn" onclick="resetZoom()">‚Üª Reset</button>
                <button class="btn" onclick="downloadSVG()">üíæ T√©l√©charger SVG</button>
            </div>

            <div class="diagram-container" id="diagramContainer">
                <svg width="1600" height="1200" xmlns="http://www.w3.org/2000/svg" id="classDiagram">
                    <defs>
                        <style>
                            .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2563eb; }
                            .class-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #1f2937; text-anchor: middle; }
                            .class-text { font-family: Arial, sans-serif; font-size: 11px; fill: #374151; }
                            .class-method { font-family: Arial, sans-serif; font-size: 10px; fill: #4b5563; }
                            .package-text { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; fill: #6b7280; }
                            
                            /* Styles des classes */
                            .model-class { stroke: #10b981; stroke-width: 2; fill: #d1fae5; }
                            .service-class { stroke: #3b82f6; stroke-width: 2; fill: #dbeafe; }
                            .component-class { stroke: #f59e0b; stroke-width: 2; fill: #fef3c7; }
                            .context-class { stroke: #8b5cf6; stroke-width: 2; fill: #ede9fe; }
                            .hook-class { stroke: #ec4899; stroke-width: 2; fill: #fce7f3; }
                            .util-class { stroke: #6b7280; stroke-width: 2; fill: #f3f4f6; }
                            
                            /* Relations */
                            .association { stroke: #374151; stroke-width: 1.5; fill: none; }
                            .composition { stroke: #dc2626; stroke-width: 2; fill: none; }
                            .dependency { stroke: #6b7280; stroke-width: 1; stroke-dasharray: 5,3; fill: none; }
                            .inheritance { stroke: #059669; stroke-width: 2; fill: none; }
                            
                            /* Packages */
                            .package-border { stroke: #9ca3af; stroke-width: 2; fill: none; stroke-dasharray: 8,4; }
                        </style>
                    </defs>

                    <!-- Titre -->
                    <text x="800" y="30" class="title" text-anchor="middle">Diagramme de Classes - Laevitas Trading Platform</text>

                    <!-- Package Backend Models -->
                    <rect x="50" y="60" width="400" height="500" class="package-border" rx="10"/>
                    <text x="60" y="80" class="package-text">Backend Models</text>

                    <!-- Classe User -->
                    <rect x="70" y="100" width="160" height="120" class="model-class" rx="5"/>
                    <text x="150" y="115" class="class-title">User</text>
                    <line x1="70" y1="125" x2="230" y2="125" stroke="#10b981" stroke-width="1"/>
                    <text x="75" y="140" class="class-text">- firstName: String</text>
                    <text x="75" y="152" class="class-text">- lastName: String</text>
                    <text x="75" y="164" class="class-text">- email: String</text>
                    <text x="75" y="176" class="class-text">- password: String</text>
                    <text x="75" y="188" class="class-text">- role: String</text>
                    <text x="75" y="200" class="class-text">- avatar: String</text>
                    <line x1="70" y1="205" x2="230" y2="205" stroke="#10b981" stroke-width="1"/>
                    <text x="75" y="215" class="class-method">+ authenticate()</text>

                    <!-- Classe Portfolio -->
                    <rect x="260" y="100" width="170" height="140" class="model-class" rx="5"/>
                    <text x="345" y="115" class="class-title">Portfolio</text>
                    <line x1="260" y1="125" x2="430" y2="125" stroke="#10b981" stroke-width="1"/>
                    <text x="265" y="140" class="class-text">- userId: ObjectId</text>
                    <text x="265" y="152" class="class-text">- assets: [Asset]</text>
                    <text x="265" y="164" class="class-text">- totalValue: Number</text>
                    <text x="265" y="176" class="class-text">- totalInvested: Number</text>
                    <text x="265" y="188" class="class-text">- profitLoss: Number</text>
                    <text x="265" y="200" class="class-text">- performance: Object</text>
                    <line x1="260" y1="210" x2="430" y2="210" stroke="#10b981" stroke-width="1"/>
                    <text x="265" y="225" class="class-method">+ calculatePerformance()</text>
                    <text x="265" y="235" class="class-method">+ addAsset()</text>

                    <!-- Classe Wallet -->
                    <rect x="70" y="260" width="160" height="120" class="model-class" rx="5"/>
                    <text x="150" y="275" class="class-title">Wallet</text>
                    <line x1="70" y1="285" x2="230" y2="285" stroke="#10b981" stroke-width="1"/>
                    <text x="75" y="300" class="class-text">- userId: ObjectId</text>
                    <text x="75" y="312" class="class-text">- balances: [Balance]</text>
                    <text x="75" y="324" class="class-text">- transactions: [Transaction]</text>
                    <text x="75" y="336" class="class-text">- totalBalance: Number</text>
                    <line x1="70" y1="345" x2="230" y2="345" stroke="#10b981" stroke-width="1"/>
                    <text x="75" y="360" class="class-method">+ deposit()</text>
                    <text x="75" y="370" class="class-method">+ withdraw()</text>

                    <!-- Classe Market -->
                    <rect x="260" y="260" width="170" height="120" class="model-class" rx="5"/>
                    <text x="345" y="275" class="class-title">Market</text>
                    <line x1="260" y1="285" x2="430" y2="285" stroke="#10b981" stroke-width="1"/>
                    <text x="265" y="300" class="class-text">- symbol: String</text>
                    <text x="265" y="312" class="class-text">- baseAsset: String</text>
                    <text x="265" y="324" class="class-text">- quoteAsset: String</text>
                    <text x="265" y="336" class="class-text">- type: String</text>
                    <text x="265" y="348" class="class-text">- priceData: Object</text>
                    <line x1="260" y1="355" x2="430" y2="355" stroke="#10b981" stroke-width="1"/>
                    <text x="265" y="370" class="class-method">+ updatePrice()</text>

                    <!-- Classe Watchlist -->
                    <rect x="70" y="400" width="160" height="120" class="model-class" rx="5"/>
                    <text x="150" y="415" class="class-title">Watchlist</text>
                    <line x1="70" y1="425" x2="230" y2="425" stroke="#10b981" stroke-width="1"/>
                    <text x="75" y="440" class="class-text">- userId: ObjectId</text>
                    <text x="75" y="452" class="class-text">- items: [WatchlistItem]</text>
                    <text x="75" y="464" class="class-text">- name: String</text>
                    <text x="75" y="476" class="class-text">- isDefault: Boolean</text>
                    <line x1="70" y1="485" x2="230" y2="485" stroke="#10b981" stroke-width="1"/>
                    <text x="75" y="500" class="class-method">+ addSymbol()</text>
                    <text x="75" y="510" class="class-method">+ removeSymbol()</text>

                    <!-- Package Backend Services -->
                    <rect x="500" y="60" width="350" height="400" class="package-border" rx="10"/>
                    <text x="510" y="80" class="package-text">Backend Services</text>

                    <!-- Classe BinanceService -->
                    <rect x="520" y="100" width="150" height="100" class="service-class" rx="5"/>
                    <text x="595" y="115" class="class-title">BinanceService</text>
                    <line x1="520" y1="125" x2="670" y2="125" stroke="#3b82f6" stroke-width="1"/>
                    <text x="525" y="140" class="class-text">- baseURL: String</text>
                    <text x="525" y="152" class="class-text">- wsConnections: Map</text>
                    <line x1="520" y1="160" x2="670" y2="160" stroke="#3b82f6" stroke-width="1"/>
                    <text x="525" y="175" class="class-method">+ getExchangeInfo()</text>
                    <text x="525" y="185" class="class-method">+ get24hrTicker()</text>
                    <text x="525" y="195" class="class-method">+ getCurrentPrices()</text>

                    <!-- Classe WebSocketService -->
                    <rect x="690" y="100" width="150" height="100" class="service-class" rx="5"/>
                    <text x="765" y="115" class="class-title">WebSocketService</text>
                    <line x1="690" y1="125" x2="840" y2="125" stroke="#3b82f6" stroke-width="1"/>
                    <text x="695" y="140" class="class-text">- wss: WebSocketServer</text>
                    <text x="695" y="152" class="class-text">- clients: Map</text>
                    <line x1="690" y1="160" x2="840" y2="160" stroke="#3b82f6" stroke-width="1"/>
                    <text x="695" y="175" class="class-method">+ initialize()</text>
                    <text x="695" y="185" class="class-method">+ broadcast()</text>
                    <text x="695" y="195" class="class-method">+ handleConnection()</text>

                    <!-- Classe SyncService -->
                    <rect x="520" y="220" width="150" height="100" class="service-class" rx="5"/>
                    <text x="595" y="235" class="class-title">SyncService</text>
                    <line x1="520" y1="245" x2="670" y2="245" stroke="#3b82f6" stroke-width="1"/>
                    <text x="525" y="260" class="class-text">- isRunning: Boolean</text>
                    <text x="525" y="272" class="class-text">- trackedSymbols: Array</text>
                    <line x1="520" y1="280" x2="670" y2="280" stroke="#3b82f6" stroke-width="1"/>
                    <text x="525" y="295" class="class-method">+ start()</text>
                    <text x="525" y="305" class="class-method">+ performSync()</text>
                    <text x="525" y="315" class="class-method">+ stop()</text>

                    <!-- Package Frontend Components -->
                    <rect x="900" y="60" width="650" height="500" class="package-border" rx="10"/>
                    <text x="910" y="80" class="package-text">Frontend Components</text>

                    <!-- Classe App -->
                    <rect x="920" y="100" width="120" height="80" class="component-class" rx="5"/>
                    <text x="980" y="115" class="class-title">App</text>
                    <line x1="920" y1="125" x2="1040" y2="125" stroke="#f59e0b" stroke-width="1"/>
                    <text x="925" y="140" class="class-text">- queryClient: QueryClient</text>
                    <line x1="920" y1="150" x2="1040" y2="150" stroke="#f59e0b" stroke-width="1"/>
                    <text x="925" y="165" class="class-method">+ render()</text>
                    <text x="925" y="175" class="class-method">+ setupRoutes()</text>

                    <!-- Classe DashboardPage -->
                    <rect x="1060" y="100" width="140" height="80" class="component-class" rx="5"/>
                    <text x="1130" y="115" class="class-title">DashboardPage</text>
                    <line x1="1060" y1="125" x2="1200" y2="125" stroke="#f59e0b" stroke-width="1"/>
                    <text x="1065" y="140" class="class-text">- stats: Object</text>
                    <text x="1065" y="152" class="class-text">- activeTab: String</text>
                    <line x1="1060" y1="160" x2="1200" y2="160" stroke="#f59e0b" stroke-width="1"/>
                    <text x="1065" y="175" class="class-method">+ loadDashboard()</text>

                    <!-- Classe TradingDashboard -->
                    <rect x="920" y="200" width="140" height="80" class="component-class" rx="5"/>
                    <text x="990" y="215" class="class-title">TradingDashboard</text>
                    <line x1="920" y1="225" x2="1060" y2="225" stroke="#f59e0b" stroke-width="1"/>
                    <text x="925" y="240" class="class-text">- activeTab: String</text>
                    <text x="925" y="252" class="class-text">- markets: Array</text>
                    <line x1="920" y1="260" x2="1060" y2="260" stroke="#f59e0b" stroke-width="1"/>
                    <text x="925" y="275" class="class-method">+ switchTab()</text>

                    <!-- Classe Portfolio (Component) -->
                    <rect x="1080" y="200" width="120" height="80" class="component-class" rx="5"/>
                    <text x="1140" y="215" class="class-title">Portfolio</text>
                    <line x1="1080" y1="225" x2="1200" y2="225" stroke="#f59e0b" stroke-width="1"/>
                    <text x="1085" y="240" class="class-text">- assets: Array</text>
                    <text x="1085" y="252" class="class-text">- performance: Object</text>
                    <line x1="1080" y1="260" x2="1200" y2="260" stroke="#f59e0b" stroke-width="1"/>
                    <text x="1085" y="275" class="class-method">+ loadPortfolio()</text>

                    <!-- Classe WalletManagement -->
                    <rect x="920" y="300" width="140" height="80" class="component-class" rx="5"/>
                    <text x="990" y="315" class="class-title">WalletManagement</text>
                    <line x1="920" y1="325" x2="1060" y2="325" stroke="#f59e0b" stroke-width="1"/>
                    <text x="925" y="340" class="class-text">- balances: Array</text>
                    <text x="925" y="352" class="class-text">- transactions: Array</text>
                    <line x1="920" y1="360" x2="1060" y2="360" stroke="#f59e0b" stroke-width="1"/>
                    <text x="925" y="375" class="class-method">+ loadWallet()</text>

                    <!-- Classe MarketOverview -->
                    <rect x="1080" y="300" width="120" height="80" class="component-class" rx="5"/>
                    <text x="1140" y="315" class="class-title">MarketOverview</text>
                    <line x1="1080" y1="325" x2="1200" y2="325" stroke="#f59e0b" stroke-width="1"/>
                    <text x="1085" y="340" class="class-text">- markets: Array</text>
                    <text x="1085" y="352" class="class-text">- filters: Object</text>
                    <line x1="1080" y1="360" x2="1200" y2="360" stroke="#f59e0b" stroke-width="1"/>
                    <text x="1085" y="375" class="class-method">+ loadMarkets()</text>

                    <!-- Classe Watchlist (Component) -->
                    <rect x="920" y="400" width="120" height="80" class="component-class" rx="5"/>
                    <text x="980" y="415" class="class-title">Watchlist</text>
                    <line x1="920" y1="425" x2="1040" y2="425" stroke="#f59e0b" stroke-width="1"/>
                    <text x="925" y="440" class="class-text">- items: Array</text>
                    <text x="925" y="452" class="class-text">- alerts: Array</text>
                    <line x1="920" y1="460" x2="1040" y2="460" stroke="#f59e0b" stroke-width="1"/>
                    <text x="925" y="475" class="class-method">+ addToWatchlist()</text>

                    <!-- Classe AdminDashboard -->
                    <rect x="1220" y="100" width="120" height="80" class="component-class" rx="5"/>
                    <text x="1280" y="115" class="class-title">AdminDashboard</text>
                    <line x1="1220" y1="125" x2="1340" y2="125" stroke="#f59e0b" stroke-width="1"/>
                    <text x="1225" y="140" class="class-text">- users: Array</text>
                    <text x="1225" y="152" class="class-text">- stats: Object</text>
                    <line x1="1220" y1="160" x2="1340" y2="160" stroke="#f59e0b" stroke-width="1"/>
                    <text x="1225" y="175" class="class-method">+ loadUsers()</text>

                    <!-- Package Frontend Contexts -->
                    <rect x="900" y="580" width="300" height="200" class="package-border" rx="10"/>
                    <text x="910" y="600" class="package-text">Frontend Contexts</text>

                    <!-- Classe AuthContext -->
                    <rect x="920" y="620" width="120" height="80" class="context-class" rx="5"/>
                    <text x="980" y="635" class="class-title">AuthContext</text>
                    <line x1="920" y1="645" x2="1040" y2="645" stroke="#8b5cf6" stroke-width="1"/>
                    <text x="925" y="660" class="class-text">- user: User</text>
                    <text x="925" y="672" class="class-text">- isAuthenticated: Boolean</text>
                    <line x1="920" y1="680" x2="1040" y2="680" stroke="#8b5cf6" stroke-width="1"/>
                    <text x="925" y="695" class="class-method">+ login()</text>

                    <!-- Classe useAuth Hook -->
                    <rect x="1060" y="620" width="120" height="80" class="hook-class" rx="5"/>
                    <text x="1120" y="635" class="class-title">useAuth</text>
                    <line x1="1060" y1="645" x2="1180" y2="645" stroke="#ec4899" stroke-width="1"/>
                    <text x="1065" y="660" class="class-text">- context: AuthContext</text>
                    <line x1="1060" y1="670" x2="1180" y2="670" stroke="#ec4899" stroke-width="1"/>
                    <text x="1065" y="685" class="class-method">+ useContext()</text>
                    <text x="1065" y="695" class="class-method">+ navigate()</text>

                    <!-- Package Frontend Services -->
                    <rect x="1250" y="580" width="300" height="200" class="package-border" rx="10"/>
                    <text x="1260" y="600" class="package-text">Frontend Services</text>

                    <!-- Classe API Service -->
                    <rect x="1270" y="620" width="120" height="80" class="service-class" rx="5"/>
                    <text x="1330" y="635" class="class-title">ApiService</text>
                    <line x1="1270" y1="645" x2="1390" y2="645" stroke="#3b82f6" stroke-width="1"/>
                    <text x="1275" y="660" class="class-text">- baseURL: String</text>
                    <text x="1275" y="672" class="class-text">- axios: AxiosInstance</text>
                    <line x1="1270" y1="680" x2="1390" y2="680" stroke="#3b82f6" stroke-width="1"/>
                    <text x="1275" y="695" class="class-method">+ request()</text>

                    <!-- Classe MarketService -->
                    <rect x="1410" y="620" width="120" height="80" class="service-class" rx="5"/>
                    <text x="1470" y="635" class="class-title">MarketService</text>
                    <line x1="1410" y1="645" x2="1530" y2="645" stroke="#3b82f6" stroke-width="1"/>
                    <text x="1415" y="660" class="class-text">- api: ApiService</text>
                    <line x1="1410" y1="670" x2="1530" y2="670" stroke="#3b82f6" stroke-width="1"/>
                    <text x="1415" y="685" class="class-method">+ getMarkets()</text>
                    <text x="1415" y="695" class="class-method">+ getPrices()</text>

                    <!-- Relations principales -->
                    
                    <!-- User -> Portfolio (1:1) -->
                    <line x1="230" y1="160" x2="260" y2="160" class="association"/>
                    <text x="240" y="155" class="class-method" style="font-size: 9px;">1</text>
                    <text x="250" y="155" class="class-method" style="font-size: 9px;">1</text>

                    <!-- User -> Wallet (1:1) -->
                    <line x1="150" y1="220" x2="150" y2="260" class="association"/>
                    <text x="155" y="235" class="class-method" style="font-size: 9px;">1</text>
                    <text x="155" y="255" class="class-method" style="font-size: 9px;">1</text>

                    <!-- User -> Watchlist (1:*) -->
                    <line x1="150" y1="220" x2="150" y2="400" class="association"/>
                    <text x="155" y="235" class="class-method" style="font-size: 9px;">1</text>
                    <text x="155" y="395" class="class-method" style="font-size: 9px;">*</text>

                    <!-- Portfolio -> Market (dependency) -->
                    <line x1="345" y1="240" x2="345" y2="260" class="dependency"/>

                    <!-- BinanceService -> Market (dependency) -->
                    <line x1="520" y1="150" x2="430" y2="320" class="dependency"/>

                    <!-- SyncService -> BinanceService (dependency) -->
                    <line x1="595" y1="220" x2="595" y2="200" class="dependency"/>

                    <!-- WebSocketService -> Market (dependency) -->
                    <line x1="690" y1="150" x2="430" y2="320" class="dependency"/>

                    <!-- Frontend Components -> AuthContext (dependency) -->
                    <line x1="980" y1="180" x2="980" y2="620" class="dependency"/>
                    <line x1="1130" y1="180" x2="980" y2="620" class="dependency"/>

                    <!-- useAuth -> AuthContext (dependency) -->
                    <line x1="1060" y1="660" x2="1040" y2="660" class="dependency"/>

                    <!-- Frontend Services -> Backend API (dependency) -->
                    <line x1="1270" y1="660" x2="670" y2="150" class="dependency"/>

                    <!-- L√©gende -->
                    <rect x="50" y="800" width="500" height="150" stroke="#6b7280" stroke-width="1" fill="#f9fafb" rx="5"/>
                    <text x="300" y="820" class="class-title">L√©gende des Classes</text>
                    
                    <rect x="70" y="840" width="20" height="15" class="model-class"/>
                    <text x="100" y="852" class="class-text">Mod√®les Backend (MongoDB)</text>
                    
                    <rect x="70" y="860" width="20" height="15" class="service-class"/>
                    <text x="100" y="872" class="class-text">Services Backend/Frontend</text>
                    
                    <rect x="70" y="880" width="20" height="15" class="component-class"/>
                    <text x="100" y="892" class="class-text">Composants React</text>
                    
                    <rect x="270" y="840" width="20" height="15" class="context-class"/>
                    <text x="300" y="852" class="class-text">Contextes React</text>
                    
                    <rect x="270" y="860" width="20" height="15" class="hook-class"/>
                    <text x="300" y="872" class="class-text">Hooks React</text>
                    
                    <line x1="70" y1="900" x2="100" y2="900" class="association"/>
                    <text x="110" y="905" class="class-text">Association</text>
                    
                    <line x1="200" y1="900" x2="230" y2="900" class="dependency"/>
                    <text x="240" y="905" class="class-text">D√©pendance</text>

                    <!-- Informations sur l'architecture -->
                    <rect x="600" y="800" width="950" height="150" stroke="#6b7280" stroke-width="1" fill="#f9fafb" rx="5"/>
                    <text x="1075" y="820" class="class-title">Architecture du Syst√®me</text>
                    
                    <text x="620" y="840" class="class-text">‚Ä¢ Architecture MERN (MongoDB, Express.js, React, Node.js)</text>
                    <text x="620" y="855" class="class-text">‚Ä¢ Backend: API REST avec WebSocket pour temps r√©el</text>
                    <text x="620" y="870" class="class-text">‚Ä¢ Frontend: React avec Context API et React Query</text>
                    <text x="620" y="885" class="class-text">‚Ä¢ Services externes: Binance API pour donn√©es de march√©</text>
                    <text x="620" y="900" class="class-text">‚Ä¢ Authentification: JWT avec r√¥les (client/admin)</text>
                    <text x="620" y="915" class="class-text">‚Ä¢ Base de donn√©es: MongoDB avec Mongoose ODM</text>
                    <text x="620" y="930" class="class-text">‚Ä¢ Communication temps r√©el: WebSocket pour prix et notifications</text>
                </svg>
            </div>

            <div class="legend">
                <h3>üé® L√©gende des Couleurs</h3>
                <div class="legend-grid">
                    <div class="legend-item">
                        <div class="legend-color model"></div>
                        <span>Mod√®les Backend (MongoDB/Mongoose)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color service"></div>
                        <span>Services Backend/Frontend</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color component"></div>
                        <span>Composants React</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color context"></div>
                        <span>Contextes React</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color hook"></div>
                        <span>Hooks React</span>
                    </div>
                </div>
            </div>

            <div class="architecture-info">
                <div class="info-card">
                    <h3>Backend Models</h3>
                    <ul>
                        <li><strong>User:</strong> Gestion des utilisateurs avec authentification</li>
                        <li><strong>Portfolio:</strong> Portefeuilles d'investissement des utilisateurs</li>
                        <li><strong>Wallet:</strong> Gestion des soldes et transactions</li>
                        <li><strong>Market:</strong> Donn√©es des march√©s financiers</li>
                        <li><strong>Watchlist:</strong> Listes de surveillance personnalis√©es</li>
                    </ul>
                </div>

                <div class="info-card">
                    <h3>Backend Services</h3>
                    <ul>
                        <li><strong>BinanceService:</strong> Int√©gration API Binance</li>
                        <li><strong>WebSocketService:</strong> Communication temps r√©el</li>
                        <li><strong>SyncService:</strong> Synchronisation des donn√©es</li>
                    </ul>
                </div>

                <div class="info-card">
                    <h3>Frontend Components</h3>
                    <ul>
                        <li><strong>App:</strong> Composant racine avec routing</li>
                        <li><strong>DashboardPage:</strong> Tableau de bord principal</li>
                        <li><strong>TradingDashboard:</strong> Interface de trading</li>
                        <li><strong>Portfolio:</strong> Gestion du portefeuille</li>
                        <li><strong>WalletManagement:</strong> Gestion du wallet</li>
                        <li><strong>MarketOverview:</strong> Vue d'ensemble des march√©s</li>
                        <li><strong>Watchlist:</strong> Liste de surveillance</li>
                        <li><strong>AdminDashboard:</strong> Panneau d'administration</li>
                    </ul>
                </div>

                <div class="info-card">
                    <h3>Frontend Architecture</h3>
                    <ul>
                        <li><strong>AuthContext:</strong> Gestion de l'authentification</li>
                        <li><strong>useAuth:</strong> Hook d'authentification</li>
                        <li><strong>ApiService:</strong> Client API REST</li>
                        <li><strong>MarketService:</strong> Service de donn√©es de march√©</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentZoom = 1;
        const zoomStep = 0.2;
        const minZoom = 0.5;
        const maxZoom = 3;

        function zoomIn() {
            if (currentZoom < maxZoom) {
                currentZoom += zoomStep;
                applyZoom();
            }
        }

        function zoomOut() {
            if (currentZoom > minZoom) {
                currentZoom -= zoomStep;
                applyZoom();
            }
        }

        function resetZoom() {
            currentZoom = 1;
            applyZoom();
        }

        function applyZoom() {
            const svg = document.getElementById('classDiagram');
            svg.style.transform = `scale(${currentZoom})`;
            svg.style.transformOrigin = 'top left';
        }

        function downloadSVG() {
            const svg = document.getElementById('classDiagram');
            const svgData = new XMLSerializer().serializeToString(svg);
            const svgBlob = new Blob([svgData], {type: 'image/svg+xml;charset=utf-8'});
            const svgUrl = URL.createObjectURL(svgBlob);
            
            const downloadLink = document.createElement('a');
            downloadLink.href = svgUrl;
            downloadLink.download = 'laevitas-class-diagram.svg';
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
            URL.revokeObjectURL(svgUrl);
        }

        // Gestion du zoom avec la molette de la souris
        document.getElementById('diagramContainer').addEventListener('wheel', function(e) {
            e.preventDefault();
            if (e.deltaY < 0) {
                zoomIn();
            } else {
                zoomOut();
            }
        });
    </script>
</body>
</html>